<div class="main">
    <div class="banner">
        <div class="banner-text">Add new Contribution</div>
        <button class="close-btn" (click)="closeDialog()"><mat-icon>close</mat-icon></button>
    </div>
    <form [formGroup]="form">
          <div class="col">
            <mat-form-field appearance="outline" class="w-100 m-1 p-2">
                <mat-label>Leave a comment</mat-label>
                <textarea matInput formControlName="comment"></textarea>
              <mat-icon matSuffix>comment</mat-icon>
            </mat-form-field>
          </div>
    </form>

    <div class="card-header blackWhite">
        <h5 style="display: flex">
          <mat-icon class="mr-2">attach_file</mat-icon>Attachments
        </h5>
      </div>

      <div class="wrapper">
        <!-- files -->
        <div class="form-group" style="overflow: auto; text-align: center">
          <div
            class="d-flex align-items-center justify-content-between m-2"
            style="cursor: pointer"
          >
            <label for="file" class="btn btn-secondary attatch-button m-3">Files <mat-icon>add_to_photos</mat-icon></label>
            <mat-icon
              *ngIf="filesToUpload.length > 0"
              (click)="removeFiles(undefined)"
              class="pe-auto"
              >close</mat-icon
            >
          </div>
          <input
            type="file"
            id="file"
            multiple
            (change)="handleFileInput($event)"
          />
          <mat-list *ngIf="filesToUpload.length > 0" class="d-flex flex-column p-5">
            <mat-list-item *ngFor="let file of filesToUpload" class="d-flex my-1">
              <mat-icon matListItemIcon class="mx-2">note</mat-icon>
              <div matListItemTitle class="d-flex">
                <div class="flex-grow-1" style="overflow: hidden">
                  {{ file.name }}
                </div>
                <mat-icon
                  matListItemIcon
                  class="mx-2"
                  style="cursor: pointer"
                  (click)="removeFiles(file)"
                  >cancel</mat-icon
                >
              </div>
            </mat-list-item>
          </mat-list>
        </div>
    </div>
    <div class="d-flex flex-row-reverse">
      <button type="button" class="btn btn-secondary m-3" (click)="createContribution()" [disabled]="!form.dirty && filesToUpload.length == 0">Send</button>
    </div>
</div>
    
